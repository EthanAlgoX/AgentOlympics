INFO:     Started server process [52011]
INFO:     Waiting for application startup.
2026-02-01 22:37:39,852 [INFO] __main__: DB Config: sqlite:////User...
2026-02-01 22:37:39,852 [INFO] __main__: DB connected
2026-02-01 22:37:39,852 [INFO] __main__: Competition Scheduler task initiated
2026-02-01 22:37:39,852 [INFO] app.engine.scheduler: Competition Scheduler started.
2026-02-01 22:37:39,866 [INFO] app.engine.scheduler: Startup Trigger: Forcing immediate competition.
2026-02-01 22:37:39,867 [INFO] app.engine.scheduler: New competition created: btc_pred_20260201_1437
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     127.0.0.1:51769 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51770 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51771 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
2026-02-01 22:37:44,875 [INFO] app.engine.scheduler: Competition btc_pred_20260201_1437 is now OPEN.
INFO:     127.0.0.1:51785 - "POST /api/v1/agents/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:51787 - "GET /api/v1/agents/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51791 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51792 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51794 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51794 - "GET /api/social/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51794 - "GET /api/social/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51799 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51801 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51803 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51803 - "GET /api/social/ HTTP/1.1" 200 OK
2026-02-01 22:37:54,903 [INFO] app.engine.scheduler: Competition btc_pred_20260201_1437 is now LOCKED.
2026-02-01 22:37:54,903 [INFO] app.engine.scheduler: Settling btc_pred_20260201_1437. Result: LONG
2026-02-01 22:37:54,904 [INFO] app.engine.scheduler: Competition btc_pred_20260201_1437 SETTLED.
INFO:     127.0.0.1:51803 - "GET /api/social/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51810 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51808 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51812 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51818 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51820 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51822 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51829 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51831 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51833 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51842 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51840 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51844 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51847 - "POST /api/v1/agents/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:51849 - "GET /api/v1/agents/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:51856 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51859 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51860 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51865 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51866 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51868 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51871 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51874 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51872 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51876 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51878 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51880 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51886 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51888 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51890 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51893 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51896 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51897 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51901 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51899 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51903 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51907 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51909 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51911 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51914 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51915 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51917 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51921 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51919 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51923 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51928 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51930 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51932 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51936 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51934 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51938 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51941 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51944 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51945 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51950 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51948 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51952 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51956 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51958 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51960 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51962 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51964 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51966 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51973 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51971 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51975 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51977 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51979 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51981 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51985 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51983 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51987 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51991 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:51989 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:51993 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:51998 - "POST /api/v1/agents/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:52000 - "GET /api/v1/agents/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:52005 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52007 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52009 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52014 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52016 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52018 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52021 - "POST /api/v1/agents/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:52023 - "GET /api/v1/agents/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:52027 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52029 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52031 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52034 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52037 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52038 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52043 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52046 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52047 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52051 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52053 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52055 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52057 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52061 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52059 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52066 - "POST /api/v1/agents/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:52068 - "GET /api/v1/agents/me HTTP/1.1" 200 OK
2026-02-01 22:40:29,998 [INFO] app.engine.scheduler: New competition created: btc_pred_20260201_1440
INFO:     127.0.0.1:52072 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52070 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52074 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
2026-02-01 22:40:35,006 [INFO] app.engine.scheduler: Competition btc_pred_20260201_1440 is now OPEN.
2026-02-01 22:40:35,013 [INFO] app.engine.scheduler: Agent TestAgent_eb93f9 submitted to btc_pred_20260201_1440
INFO:     127.0.0.1:52082 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52085 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/social/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52086 - "GET /api/social/ HTTP/1.1" 200 OK
2026-02-01 22:40:40,025 [INFO] app.engine.scheduler: Agent TestAgent_b45a8f submitted to btc_pred_20260201_1440
INFO:     127.0.0.1:52088 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52090 - "GET /api/leaderboard/global/ranking HTTP/1.1" 200 OK
INFO:     127.0.0.1:52092 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52092 - "GET /api/social/ HTTP/1.1" 200 OK
2026-02-01 22:40:45,032 [INFO] app.engine.scheduler: Settling btc_pred_20260201_1440. Result: LONG
2026-02-01 22:40:45,050 [INFO] app.engine.scheduler: Competition btc_pred_20260201_1440 SETTLED.
INFO:     127.0.0.1:52092 - "GET /api/social/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52094 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52098 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52096 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52102 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52105 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52103 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52107 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52111 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52109 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52118 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52122 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52120 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52127 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52131 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52129 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52133 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52137 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52152 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52156 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52155 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52162 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52166 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52164 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52178 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52182 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52180 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52188 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52190 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52192 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52199 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52202 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52200 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52208 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52212 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52210 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52214 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52218 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52217 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52221 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52225 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52223 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.agent_id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
INFO:     127.0.0.1:52228 - "GET /api/social/posts HTTP/1.1" 200 OK
INFO:     127.0.0.1:52232 - "GET /api/v1/competitions?status=open HTTP/1.1" 200 OK
INFO:     127.0.0.1:52230 - "GET /api/leaderboard/global/ranking HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/opt/anaconda3/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/anaconda3/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yunxuanhan/Documents/workspace/ai/AgentOlympics/backend/app/api/leaderboard.py", line 101, in get_global_leaderboard
    agent = db.query(models.Agent).filter(models.Agent.id == r.agent_id).first()
                                          ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'Agent' has no attribute 'agent_id'
